<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Business Setup Wizard</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #1a1a1a 0%, #2c1810 100%);
      color: #f5f5f5;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .wizard-container {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 40px;
      width: 90%;
      max-width: 600px;
      border: 1px solid rgba(212, 175, 55, 0.2);
    }

    .wizard-header {
      text-align: center;
      margin-bottom: 30px;
    }

    .wizard-header h1 {
      color: #d4af37;
      font-size: 2.5rem;
      margin-bottom: 10px;
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: rgba(212, 175, 55, 0.2);
      border-radius: 4px;
      margin-bottom: 20px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: #d4af37;
      border-radius: 4px;
      transition: width 0.3s ease;
      width: 16.66%;
    }

    .step-indicator {
      text-align: center;
      margin-bottom: 30px;
      color: #ccc;
    }

    .form-group {
      margin-bottom: 25px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      color: #d4af37;
      font-weight: 600;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 12px 16px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(212, 175, 55, 0.3);
      border-radius: 8px;
      color: #f5f5f5;
      font-size: 16px;
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: #d4af37;
      box-shadow: 0 0 0 2px rgba(212, 175, 55, 0.2);
    }

    .wizard-nav {
      display: flex;
      justify-content: space-between;
      margin-top: 40px;
    }

    .nav-btn {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .nav-btn.primary {
      background: #d4af37;
      color: #1a1a1a;
    }

    .nav-btn.secondary {
      background: rgba(255, 255, 255, 0.1);
      color: #f5f5f5;
    }

    .nav-btn:hover {
      transform: translateY(-2px);
    }

    .nav-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="wizard-container">
    <div class="wizard-header">
      <h1>Business Setup</h1>
      <p>Let's get your photography business ready!</p>
    </div>
    
    <div class="progress-bar">
      <div class="progress-fill" id="progressFill"></div>
    </div>
    <div class="step-indicator">Step <span id="stepNum">1</span> of 6</div>
    
    <div id="wizard-form">
      <!-- Step content goes here -->
    </div>
    
    <div class="wizard-nav">
      <button id="prevBtn" class="nav-btn secondary" disabled>← Back</button>
      <button id="nextBtn" class="nav-btn primary">Next →</button>
    </div>
  </div>

  <script>
    let currentStep = 0;
    let wizardData = {};

    const steps = [
      'businessInfo',
      'branding', 
      'stripe',
      'communication',
      'sessionTypes',
      'previewLaunch'
    ];

    function updateProgress() {
      const progress = ((currentStep + 1) / steps.length) * 100;
      document.getElementById('progressFill').style.width = progress + '%';
      document.getElementById('stepNum').textContent = currentStep + 1;
      
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');
      
      prevBtn.disabled = currentStep === 0;
      nextBtn.textContent = currentStep === steps.length - 1 ? 'Complete Setup' : 'Next →';
    }

    function renderStep() {
      const formContainer = document.getElementById('wizard-form');
      const step = steps[currentStep];
      
      console.log('Rendering step:', step);
      
      switch (step) {
        case 'businessInfo':
          formContainer.innerHTML = `
            <h2>Business Information</h2>
            <div class="form-group">
              <label for="bizName">Business Name *</label>
              <input type="text" id="bizName" placeholder="e.g. The Legacy Photography" required />
            </div>
            <div class="form-group">
              <label for="bizLocation">Primary Location *</label>
              <input type="text" id="bizLocation" placeholder="City, State (e.g. Charleston, SC)" required />
            </div>
            <div class="form-group">
              <label for="bizPhone">Phone Number *</label>
              <input type="tel" id="bizPhone" placeholder="e.g. (843) 485-1315" required />
            </div>
            <div class="form-group">
              <label for="bizEmail">Business Email *</label>
              <input type="email" id="bizEmail" placeholder="e.g. contact@yourbusiness.com" required />
            </div>
            <div class="form-group">
              <label for="bizWebsite">Website (Optional)</label>
              <input type="url" id="bizWebsite" placeholder="e.g. https://yourbusiness.com" />
            </div>
          `;
          break;
          
        case 'branding':
          formContainer.innerHTML = `
            <h2>Brand Styling</h2>
            <div class="form-group">
              <label for="logoUpload">Upload Logo (Optional)</label>
              <input type="file" id="logoUpload" accept="image/*" />
            </div>
            <div class="form-group">
              <label for="themeColor">Primary Brand Color</label>
              <input type="color" id="themeColor" value="#d4af37" />
            </div>
            <div class="form-group">
              <label for="tagline">Business Tagline</label>
              <input type="text" id="tagline" placeholder="e.g. Capturing Timeless Moments" />
            </div>
            <div class="form-group">
              <label for="style">Photography Style</label>
              <select id="style">
                <option value="wedding">Wedding Photography</option>
                <option value="portrait">Portrait Photography</option>
                <option value="family">Family Photography</option>
                <option value="commercial">Commercial Photography</option>
                <option value="event">Event Photography</option>
                <option value="mixed">Mixed Styles</option>
              </select>
            </div>
          `;
          break;
          
        case 'stripe':
          formContainer.innerHTML = `
            <h2>Payment Setup</h2>
            <p style="margin-bottom: 25px; color: #ccc; line-height: 1.6;">
              Connect your Stripe account to accept payments, send invoices, and manage subscriptions.
            </p>
            <button type="button" onclick="alert('Stripe integration configured!')" style="width: 100%; padding: 15px; background: #635bff; color: white; border: none; border-radius: 8px; margin-bottom: 20px; cursor: pointer;">
              Connect to Stripe
            </button>
            <div class="form-group">
              <label for="currency">Default Currency</label>
              <select id="currency">
                <option value="USD">USD - US Dollar</option>
                <option value="EUR">EUR - Euro</option>
                <option value="GBP">GBP - British Pound</option>
              </select>
            </div>
            <div class="form-group">
              <label for="taxRate">Tax Rate (Optional)</label>
              <input type="number" id="taxRate" placeholder="e.g. 8.5" step="0.1" min="0" max="50" />
            </div>
          `;
          break;
          
        case 'communication':
          formContainer.innerHTML = `
            <h2>Communication Preferences</h2>
            <div class="form-group">
              <label>
                <input type="checkbox" id="enableEmail" checked /> Enable Email Notifications
              </label>
            </div>
            <div class="form-group">
              <label>
                <input type="checkbox" id="enableSMS" /> Enable SMS Notifications
              </label>
            </div>
            <div class="form-group">
              <label>
                <input type="checkbox" id="autoReminders" checked /> Automatic Session Reminders
              </label>
            </div>
          `;
          break;
          
        case 'sessionTypes':
          formContainer.innerHTML = `
            <h2>First Session Type</h2>
            <div class="form-group">
              <label for="sessionName">Session Name *</label>
              <input type="text" id="sessionName" placeholder="e.g. Family Portrait Session" required />
            </div>
            <div class="form-group">
              <label for="sessionPrice">Price *</label>
              <input type="number" id="sessionPrice" placeholder="e.g. 350" min="0" step="0.01" required />
            </div>
            <div class="form-group">
              <label for="sessionDuration">Duration (minutes) *</label>
              <input type="number" id="sessionDuration" placeholder="e.g. 90" min="15" step="15" required />
            </div>
          `;
          break;
          
        case 'previewLaunch':
          formContainer.innerHTML = `
            <h2>Ready to Launch!</h2>
            <div style="background: rgba(212, 175, 55, 0.1); padding: 20px; border-radius: 8px; margin: 20px 0;">
              <h3 style="color: #d4af37; margin-bottom: 15px;">Setup Complete!</h3>
              <p>Your photography management system is configured and ready to go.</p>
            </div>
          `;
          break;
      }
      
      updateProgress();
      preloadStepData();
    }

    function validateStep() {
      const requiredInputs = document.querySelectorAll('#wizard-form input[required]');
      
      for (let input of requiredInputs) {
        if (!input.value.trim()) {
          input.focus();
          input.style.borderColor = '#ff6b6b';
          setTimeout(() => {
            input.style.borderColor = '';
          }, 3000);
          return false;
        }
        
        // Special validation for location
        if (input.id === 'bizLocation') {
          const locationPattern = /^[A-Za-z\s]+,\s*[A-Za-z]{2}$/;
          if (!locationPattern.test(input.value.trim())) {
            alert('Please enter location as City, State (e.g. Charleston, SC)');
            input.focus();
            return false;
          }
        }
      }
      
      return true;
    }

    function saveStepData() {
      const step = steps[currentStep];
      const inputs = document.querySelectorAll('#wizard-form input, #wizard-form select, #wizard-form textarea');
      
      wizardData[step] = {};
      inputs.forEach(input => {
        if (input.type === 'checkbox') {
          wizardData[step][input.id] = input.checked;
        } else if (input.type === 'file') {
          if (input.files.length > 0) {
            wizardData[step][input.id] = input.files[0].name;
          }
        } else {
          wizardData[step][input.id] = input.value || '';
        }
      });
    }

    function preloadStepData() {
      const step = steps[currentStep];
      const data = wizardData[step];
      
      if (data) {
        for (let key in data) {
          const element = document.getElementById(key);
          if (element) {
            if (element.type === 'checkbox') {
              element.checked = data[key];
            } else if (element.type !== 'file') {
              element.value = data[key];
            }
          }
        }
      }
    }

    function nextStep() {
      console.log('Next button clicked');
      
      if (!validateStep()) {
        return;
      }
      
      saveStepData();
      
      if (currentStep < steps.length - 1) {
        currentStep++;
        renderStep();
      } else {
        completeSetup();
      }
    }

    function prevStep() {
      saveStepData();
      if (currentStep > 0) {
        currentStep--;
        renderStep();
      }
    }

    function completeSetup() {
      alert('Setup completed! Redirecting to dashboard...');
      window.location.href = '/';
    }

    alert('JavaScript is loading!');
    
    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      alert('DOM loaded - wizard starting');
      console.log('Wizard initialized');
      
      document.getElementById('nextBtn').addEventListener('click', nextStep);
      document.getElementById('prevBtn').addEventListener('click', prevStep);
      
      renderStep();
      
      alert('First step rendered - buttons should work now');
    });
  </script>
</body>
</html>